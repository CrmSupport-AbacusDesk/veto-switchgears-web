<div class="loader" *ngIf="loading_list">
  <div class="loding-logo">
    <mat-spinner></mat-spinner>
  </div>
</div>

<div class="main-container">
  <div class="offer-container">
    <div class="row">
      <div class="col s12 padding0">
        <div class="sprate-box">
          <div class="full-offer">
            <div class="top-heading">
              <h2 *ngIf="getData.user_type == '1' ">ELECTRICIAN DETAIL</h2>
              <h2 *ngIf="getData.user_type == '2' ">DEALER DETAIL</h2>

              <!-- <a class="blue"  *ngIf="getData.receive_status == ''  &&  getData.gift_status != 'Reject'" (click)="changeStatus(getData.id)">Status</a> -->
            </div>

            <div class="detail-info">
              <div class="img-box">
                <img src="{{uploadUrl+getData.profile}}" (click)="openDialog(getData.karigar_id,'test5')">
              </div>

              <div class="basic-details">
                <div class="profile-info">
                  <ul>
                    <li>
                      <figure>
                        <div class="left-img">
                          <img src="assets/icon-dealer.svg">
                        </div>
                        <div class="right-cont">
                          <p>Name</p>
                          <span>{{getData.first_name}} {{getData.last_name}}</span>
                        </div>
                      </figure>
                    </li>
                    <li>

                      <figure>
                        <div class="left-img">
                          <img src="assets/contact.svg">
                        </div>
                        <div class="right-cont">
                          <p>Mobile No.</p>
                          <span>{{getData.mobile_no}}</span>
                        </div>
                      </figure>

                    </li>

                    <li>
                      <figure>
                        <div class="left-img">
                          <img src="assets/calendar.svg">
                        </div>
                        <div class="right-cont">
                          <p>Date of Birth</p>
                          <span>{{getData.dob | date:'dd MMM yyyy'}}</span>
                        </div>
                      </figure>

                    </li>

                  </ul>
                  <ul>
                    <li>
                      <figure>
                        <div class="left-img">
                          <img src="assets/book.svg">
                        </div>
                        <div class="right-cont">
                          <p>Address</p>
                          <span>{{getData.address}} {{getData.statte}} {{getData.district}} {{getData.city}}
                            {{getData.pincode}}</span>

                        </div>
                      </figure>

                    </li>
                  </ul>
                </div>
                <div class="traking">
                  <div class="traking-header">
                    <ul>

                      <li [ngClass]="{'check': getData.date_created != '' }">
                        <span>1</span>
                        <div class="traking-con">
                          <p>Redeem Request</p>
                          <p>{{getData.date_created | date:'d MMM y'}}</p>
                        </div>
                      </li>

                      <li
                        [ngClass]="{'check': (getData.gift_status=='Approved' ) , 'reject' : getData.gift_status=='Reject' }">

                        <span>2</span>

                        <div class="traking-con">
                          <p *ngIf="getData.gift_status == 'Reject'">Rejected</p>
                          <p *ngIf="getData.gift_status != 'Reject'">{{getData.gift_status}}</p>
                          <p *ngIf="getData.gift_status == 'Approved'">
                            {{getData.gift_status_date | date:'d MMM y'}}</p>
                          <p *ngIf="getData.gift_status == 'Reject' && getData.gift_status_date_reject != '0000-00-00'">
                            {{getData.gift_status_date_reject | date:'d MMM y'}}</p>
                        </div>
                      </li>

                      <li
                        [ngClass]="{'check': (getData.receive_status == 'Shipped' || getData.receive_status == 'Received') }">
                        <div class="traking-list">
                          <span>
                            <span>3</span>
                          </span>
                        </div>

                        <div class="traking-con" *ngIf="getData.redeem_type != 'gift'">
                          <p>Transfer</p>
                          <p *ngIf="getData.shipped_date != '0000-00-00'">{{getData.shipped_date | date:'d MMM y'}}</p>
                        </div>
                        <div class="traking-con" *ngIf="getData.redeem_type == 'gift'">
                          <p>Shipped</p>
                          <p *ngIf="getData.shipped_date != '0000-00-00'">{{getData.shipped_date | date:'d MMM y'}}</p>
                        </div>
                      </li>

                      <li [ngClass]="{'check': getData.receive_status == 'Received' }">
                        <div class="traking-list">
                          <span>4</span>
                        </div>
                        <div class="traking-con">
                          <p>Received</p>
                          <p *ngIf="getData.received_date != '0000-00-00'">{{getData.received_date | date:'d MMM y h:mm a'}}
                          </p>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col s6">
        <div class="sprate-box gift-offer mb15" *ngIf="getData.user_type=='1'">
          <div class="full-offer">
            <div class="top-heading">
              <h2> DEALER DETAIL</h2>
            </div>
            <div class="detail-info pl0 pr0">

              <div class="basic-details">
                <div class="profile-info">
                  <ul>
                    <li>
                      <p>Counter Name</p>
                      <span>{{!getData.parent_counter_name?'N/A':getData.parent_counter_name | titlecase }}</span>
                    </li>

                    <li>
                      <p>Contact Person</p>
                      <span>{{!getData.parent_counter_contact_person? 'N/A' : getData.parent_counter_contact_person| titlecase}}</span>
                    </li>
                    <li>
                      <p>Mobile No.</p>
                      <span>{{!getData.parent_counter_mobile ? 'N/A' : getData.parent_counter_mobile}}</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="sprate-box gift-offer ">
          <div class="full-offer">
            <div class="top-heading">
              <h2>DOCUMENT DETAIL</h2>
            </div>
            <div class="detail-info pl0 pr0">
              <div class="img-box">
                <img [src]="uploadUrl+getData.document_image" (click)="openDialog(getData.document_image,'document')">
              </div>
              <div class="basic-details">
                <div class="profile-info">
                  <ul>
                    <li>
                      <p>Document Type</p>
                      <span>{{!getData.document_type ? 'N/A' : getData.document_type}}</span>
                    </li>

                    <li>
                      <p>Document Number</p>
                      <span>{{!getData.document_no ? 'N/A' : getData.document_no}}</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="sprate-box gift-offer mt15">
          <div class="full-offer">
            <div class="top-heading">
              <h2>REDEEM REQUEST DETAIL</h2>
            </div>
            <div class="detail-info pl0 pr0">

              <div class="basic-details">
                <div class="profile-info">
                  <ul>
                    <li>
                      <p>Date</p>
                      <span>{{getData.date_created | date : 'dd MMM yyyy'}}</span>
                    </li>

                    <li>
                      <p>Points Request</p>
                      <span>{{!getData.gift_points? 'N/A' : getData.gift_points}}</span>
                    </li>
                    <li *ngIf="getData.shipped_type">
                      <p>Shipped Type</p>
                      <span>{{!getData.shipped_type ? 'N/A' : getData.shipped_type}}</span>
                    </li>
                    <li *ngIf="getData.redeem_type">
                      <p>Request Type</p>
                      <span>{{!getData.redeem_type ? 'N/A' : getData.redeem_type}}</span>
                    </li>
                  </ul>
                  <ul>

                    <li>
                      <p>Received Date</p>
                      <span>{{!getData.received_date ? 'N/A' : getData.received_date}}</span>
                    </li>

                    <li>
                      <p>Redeem Status</p>
                      <span *ngIf="getData.gift_status != 'Reject'"
                        class="{{getData.gift_status}}">{{!getData.gift_status ? 'N/A' : getData.gift_status}}</span>
                      <span *ngIf="getData.gift_status == 'Reject'" class="{{getData.gift_status}}">Rejected</span>
                    </li>

                    <li *ngIf="getData.redeem_type == 'gift'">
                      <p>Gift Points Status</p>
                      
                      <span
                        class="{{getData.receive_status}}">{{!getData.receive_status ? 'N/A' : getData.receive_status}}</span>
                    </li>
                    <li *ngIf="getData.redeem_type != 'gift'">
                      <p>Cash Points Status</p>
                      
                      <span
                        class="{{getData.receive_status}}">{{!getData.receive_status ? 'N/A' : getData.receive_status}}</span>
                    </li>

                  </ul>
                  <ul>
                    <li *ngIf="getData.estimated_date != null">
                      <p> Transfer Date</p>
                      <span>{{getData.estimated_date | date : 'dd MMM yyyy'}}</span>
                    </li>
                    <li *ngIf="getData.receive_remark && getData.receive_status=='Received'">
                      <p>Receiving Date</p>
                      <span>{{getData.received_date | date : 'dd MMM yyyy'}}</span>
                    </li>
                    <li *ngIf="getData.receive_remark && getData.receive_status=='Received'">
                      <p>Receiving Remark</p>
                      <span>{{getData.receive_remark}}</span>
                    </li>
                  </ul>
                  <ul>
                    <li>
                      <p>Discriptions</p>
                      <span [innerHTML]="discriptions"></span>
                    </li>
                  </ul>
                  <ul *ngIf="getData.reject_reason && getData.gift_status=='Reject' ">
                    <li>
                      <p>Reject Of Reason</p>
                      <span>{{getData.reject_reason}}</span>
                    </li>
                  </ul>
                  <ul>
                    <li *ngIf="getData.redeem_type == 'Gift'">
                      <p>Shipping Address</p>
                      <span>{{getData.shipping_address}}</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
      <div class="col s6" *ngIf="getData.redeem_type == 'gift'">
        <div class="sprate-box gift-offer " >
          <div class="full-offer">
            <div class="top-heading">
              <h2>OffER DETAIL</h2>
            </div>
            <div class="row mb0">
              <div class="off">
                <div class="col s3 padding0">
                  <div class="territory-infos ">
                    <div class="cs-checkboxs">
                      <div class="checkbox-outers checkbox-outers1">
                        <img src="{{uploadUrl+getData.offer_banner}}">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col s9 padding0">
                  <div class="option-field">
                    <div class="row border-bottom">
                      <div class="col s6">
                        <div class="detail-field">
                          <p>Title</p>
                          <span>{{getData.gift_title}}</span>
                        </div>
                      </div>
                      <div class="col s6">
                        <div class="detail-field">
                          <p>Offer Code</p>
                          <span>{{getData.offer_code}}</span>
                        </div>
                      </div>

                    </div>

                    <div class="row mb0 ">
                      <div class="col s4">
                        <div class="detail-field">
                          <p>Start Date</p>
                          <span>{{getData.start_date  | date:'dd MMM yyyy' }}</span>
                        </div>
                      </div>

                      <div class="col s4 padding0">
                        <div class="detail-field">
                          <p>End Date</p>
                          <span>{{getData.end_date  | date:'dd MMM yyyy' }}</span>
                        </div>
                      </div>

                      <div class="col s4 padding0">
                        <div class="detail-field">
                          <p>Status</p>
                          <span class="{{getData.offer_status}}">{{getData.offer_status}}</span>
                        </div>
                      </div>
                    </div>
                    <div class="row mb0 " *ngIf="getData.description">
                      <div class="col s12">
                        <div class="detail-field">
                          <p>Description</p>
                          <span [innerHTML]="getData.description"></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="sprate-box gift-offer mt15">
          <div class="full-offer">
            <div class="top-heading">
              <h2>GIFT DETAIL</h2>
            </div>
            <div class="row mb0">
              <div class="off">
                <div class="col s3 padding0">
                  <div class="territory-infos ">
                    <div class="cs-checkboxs">
                      <div class="checkbox-outers">

                        <div class="image-section1">
                          <!-- <ng-container *ngFor="let row of val.image; let i=index"> -->
                          <ng-container>
                              <img  src="{{uploadUrl+getData.gift_image}}" (click)="openDialog(getData.id, 'test15' )" onError="this.src='assets/img/category_img.png';">
                          </ng-container>
                      </div>

                        <!-- <mat-carousel class="material-carousel" interval=4000 useMouseWheel=true useKeyboard=true>
                          <mat-carousel-slide *ngFor="let row of giftImg; let i=index">
                            <img [src]="uploadUrl+row.image_name"
                              (click)="openDialogImage(uploadUrl+row.image_name,'normal')">
                          </mat-carousel-slide>
                        </mat-carousel> -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col s9 padding0">
                  <div class="option-field">
                    <div class="row border-bottom">
                      <div class="col s4">
                        <div class="detail-field">
                          <p>Title</p>
                          <span>{{getData.gift_title}}</span>
                        </div>
                      </div>
                      <div class="row mb0 ">
                        <div class="col s4">
                          <div class="detail-field">
                            <p> Type</p>
                            <span>{{getData.redeem_type}}</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row mb0 ">
                      <div class="col s4">
                        <div class="detail-field">
                          <p> Date</p>
                          <span>{{getData.gift_date  | date:'dd MMM yyyy'}}</span>
                        </div>
                      </div>

                      <div class="col s4 padding0">
                        <div class="detail-field">
                          <p>Created By</p>
                          <span>{{getData.gift_created}}</span>
                        </div>
                      </div>

                      <div class="col s4 padding0">
                        <div class="detail-field status dark-red">
                          <div class="points">
                            <span>{{getData.gift_points}}</span>
                            <p>Points</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="territory-infos my-scroll mt15">
          <div class="head">
            <h2>REDEEM REQUEST LOGS</h2>
          </div>

          <div class="offer-summery">
            <ul>
              <li *ngFor="let val of logs; let i = index">
                <div class="offer-list">
                  <div class="odder-cradet">
                    <p>UserName</p>
                    <span>{{val.username}}</span>
                  </div>
                  <div class="odder-cradet">
                    <p>Previous Status</p>
                    <span>{{val.previous}}</span>
                  </div>
                  <div class="odder-cradet">
                    <p>Updated Status</p>
                    <span>{{val.current}}</span>
                  </div>

                  <div class="time-info">
                    <i class="material-icons">watch_later</i>
                    <p>{{val.date_created  | date: 'dd MMM yyyy h:mm a' }}</p>
                  </div>
                </div>

              </li>
            </ul>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>